function createCookie(C,D,E){var A="";if(E){var B=new Date();B.setTime(B.getTime()+(E*24*60*60*1000));A="; expires="+B.toGMTString();}document.cookie=C+"="+D+A+"; path=/";}function eraseCookie(A){createCookie(A,"",-1);}function readCookie(B){if(document.cookie.length>0){var C=document.cookie.indexOf(B+"=");if(C!=-1){C=C+B.length+1;var A=document.cookie.indexOf(";",C);if(A==-1){A=document.cookie.length;}return unescape(document.cookie.substring(C,A));}}return null;}function appendCookie(B,C){var A=readCookie(B);var D=C.substring(C.indexOf("friend/")+6);D=new Date().getTime()+D;if(A==null||A.length==0){A=D;}else{A=A+"!"+D;}eraseCookie(B);createCookie(B,A,7);if(A.split(",").length>5){return 1;}else{return 0;}}function hasHi5Cookie(){var A=document.cookie.split(";");for(var B=0;B<A.length;B++){var C=A[B];if(C.match(/^hi5*/)){return true;}}return false;}function getViewerSegment(){var A;if(readCookie("hi5loggedIn")!=null){A="4";}else{if((readCookie("Email")!=null)||(readCookie("Userid")!=null)){A="3";}else{if(hasHi5Cookie()){A="2";}else{A="1";}}}return A;}function getViewerId(){var A;A=readCookie("Userid");return A;}function isUserInPopulation(){var A=false;if(readCookie("hi5loggedIn")!=null&&readCookie("hi5loggedIn")=="true"){var C=getViewerId();if((C>0)&&((C%1000)<=9)){createCookie("WSSSampleCookie","Y",30*365);A=true;}else{createCookie("WSSSampleCookie","N",30*365);A=false;}}else{if(readCookie("WSSSampleCookie")==null){var B=readCookie("JSESSIONID");if(B!=null&&(getHashCode(B)%100==0)){createCookie("WSSSampleCookie","Y",30*365);}else{createCookie("WSSSampleCookie","N",30*365);}}A=(readCookie("WSSSampleCookie")=="Y");}return A;}function getHashCode(D){var C=D.length;var B=0;for(var A=0;A<C;A++){B=parseInt(B*31+D.charCodeAt(A));B&=4294967295;}return B;}function getLoginMetrics(){var A=readCookie("LoginInfo");if(A!=null){eraseCookie("LoginInfo");return A;}return null;}function hitServer(B){var A=null;if(window.XMLHttpRequest){A=new XMLHttpRequest();}else{if(window.ActiveXObject){A=new ActiveXObject(Microsoft.XMLHTTP);}}A.open("GET",B,true);A.setRequestHeader("Content-Type","application/x-www-form-urlencoded");A.send(null);}function readCookie2(B){var D=B+"=";var A=document.cookie.split(";");for(var C=0;C<A.length;C++){var E=A[C];while(E.charAt(0)==" "){E=E.substring(1,E.length);}if(E.indexOf(D)==0){return E.substring(D.length,E.length);}}return null;}function init(){check_frame();if(window.init_form){init_form();}}function check_frame(){if(top.location!=document.location){}}function init_login_form(){if(document.loginForm!=null){var A=getcookie("Email");if(A!=null){document.loginForm.email.value=A;}}}function getcookie(A){var D=""+document.cookie;var C=D.indexOf(A);if(C==-1||A==""){return"";}var B=D.indexOf(";",C);if(B==-1){B=D.length;}return unescape(D.substring(C+A.length+1,B));}function popup(D,C,B){if(!window.focus){return true;}var A;if(typeof (D)=="string"){A=D;}else{A=D.href;}window.open(A,C,B);return false;}function MM_swapImgRestore(){var C,A,B=document.MM_sr;for(C=0;B&&C<B.length&&(A=B[C])&&A.oSrc;C++){A.src=A.oSrc;}}function MM_preloadImages(){var D=document;if(D.images){if(!D.MM_p){D.MM_p=new Array();}var C,B=D.MM_p.length,A=MM_preloadImages.arguments;for(C=0;C<A.length;C++){if(A[C].indexOf("#")!=0){D.MM_p[B]=new Image;D.MM_p[B++].src=A[C];}}}}function MM_findObj(E,D){var C,B,A;if(!D){D=document;}if((C=E.indexOf("?"))>0&&parent.frames.length){D=parent.frames[E.substring(C+1)].document;E=E.substring(0,C);}if(!(A=D[E])&&D.all){A=D.all[E];}for(B=0;!A&&B<D.forms.length;B++){A=D.forms[B][E];}for(B=0;!A&&D.layers&&B<D.layers.length;B++){A=MM_findObj(E,D.layers[B].document);}if(!A&&D.getElementById){A=D.getElementById(E);}return A;}function MM_swapImage(){var D,C=0,A,B=MM_swapImage.arguments;document.MM_sr=new Array;for(D=0;D<(B.length-2);D+=3){if((A=MM_findObj(B[D]))!=null){document.MM_sr[C++]=A;if(!A.oSrc){A.oSrc=A.src;}A.src=B[D+2];}}}function submitForm(){document.forms[0].submit();}function submitFormByName(A){form=document.getElementById(A);if(form==null){form=document.forms[0];}form.submit();}function confirmSubmitForm(B,A){if(confirm(B)){document.forms[A].submit();}}function setSearch(A,B){if(A=="web"){if(B=="PT"){document.getElementById("search_label").innerHTML='<a href="http://www.sapo.pt/"><img src="http://images.hi5.com/images/logos/logo_sapo_75x32.gif" border="0" alt="sapo.pt"/></a>';}}else{document.getElementById("search_label").innerHTML='&nbsp;&nbsp;&nbsp;<b style="font-size:14px;"><fmt:message key="message.search.searchforms.search" />:</b>';}document.getElementById("search_web").className="search_link";document.getElementById("search_people").className="search_link";document.getElementById("search_videos").className="search_link";document.getElementById("search_"+A).className="search_link_active";document.getElementById("search_type").value=A;}function performSearch(C){var A=document.getElementById("search_type").value;var B=document.getElementById("search_text").value;if(A=="web"){if(C=="PT"){window.open("/friend/displayWebSearchResults.do?q="+B+"&channel=hi5","");}}else{if(A=="name"){location.href="/friend/processHeaderNameSearch.do?searchText="+B;}else{if(A=="browse"){location.href="/friend/processBrowseSearch.do?searchText="+B;}}}}function checkKeyPress(A){if(A.keyCode==13){performSearch("<c:out value='${Hi5Session.countryCode}'/>");}}var languageSelector;function showLanguageMenu(){languageSelector=new hi5.Lightbox("",document.getElementById("outerLang").innerHTML,{styleClass:"langSel"});}function closeLangSelector(){languageSelector.close();}