<?xml version="1.0" encoding="UTF-8"?>
<!--page id="ICL0310S"-->
<page id="PMS_ICL0310S">

	<error-panel>
		<start-row>24</start-row>
		<end-row>24</end-row>
		<start-col>1</start-col>
		<length>80</length>
	</error-panel>

	<fields>
		<field name="function">
			<row>3</row>
			<col>20</col>
			<len>1</len>
		</field>
		<field name="br">
			<row>4</row>
			<col>20</col>
			<len>2</len>
		</field>
		<field name="cat">
			<row>4</row>
			<col>23</col>
			<len>1</len>
		</field>
		<field name="classes">
			<row>4</row>
			<col>25</col>
			<len>1</len>
		</field>
		<field name="year">
			<row>4</row>
			<col>27</col>
			<len>2</len>
		</field>
		<field name="clmNo">
			<row>4</row>
			<col>30</col>
			<len>6</len>
		</field>
		<field name="confirm1">
			<row>24</row>
			<col>78</col>
			<len>1</len>
		</field>
		<field name="transType">
			<row>5</row>
			<col>20</col>
			<len>1</len>
		</field>
		<field name="cerrency">
			<row>7</row>
			<col>20</col>
			<len>3</len>
		</field>
		<field name="cerrRate">
			<row>7</row>
			<col>60</col>
			<len>11</len>
		</field>
		<field name="remark">
			<row>18</row>
			<col>41</col>
			<len>10</len>
		</field>
		<field name="payeeCode">
			<row>19</row>
			<col>15</col>
			<len>4</len>
		</field>
		<field name="payeeName">
			<row>19</row>
			<col>41</col>
			<len>40</len>
		</field>
		<field name="invNo">
			<row>20</row>
			<col>45</col>
			<len>15</len>
		</field>
		<field name="invDate">
			<row>20</row>
			<col>73</col>
			<len>8</len>
		</field>
		<field name="chqPayment">
			<row>21</row>
			<col>40</col>
			<len>1</len>
		</field>
		<field name="bankCode">
			<row>21</row>
			<col>55</col>
			<len>2</len>
		</field>
		<field name="clmSttmCode">
			<row>22</row>
			<col>40</col>
			<len>1</len>
		</field>
		<field name="confirm2">
			<row>24</row>
			<col>78</col>
			<len>1</len>
		</field>
		
		<payee-filed-list size="6">
			<row name="1" index="11">
				<field name="resvCode">
					<row>11</row>
					<col>4</col>
					<len>5</len>
				</field>
				<field name="pymtCode">
					<row>11</row>
					<col>27</col>
					<len>4</len>
				</field>
				<field name="amnt">
					<row>11</row>
					<col>45</col>
					<len>17</len>
				</field>
				<field name="balance">
					<row>11</row>
					<col>64</col>
					<len>18</len>
				</field>
			</row>
			
			<row name="2" index="12">
				<field name="resvCode">
					<row>12</row>
					<col>4</col>
					<len>5</len>
				</field>
				<field name="pymtCode">
					<row>12</row>
					<col>27</col>
					<len>4</len>
				</field>
				<field name="amnt">
					<row>12</row>
					<col>45</col>
					<len>17</len>
				</field>
				<field name="balance">
					<row>12</row>
					<col>64</col>
					<len>18</len>
				</field>
			</row>
			
			<row name="3" index="13">
				<field name="resvCode">
					<row>13</row>
					<col>4</col>
					<len>5</len>
				</field>
				<field name="pymtCode">
					<row>13</row>
					<col>27</col>
					<len>4</len>
				</field>
				<field name="amnt">
					<row>13</row>
					<col>45</col>
					<len>17</len>
				</field>
				<field name="balance">
					<row>13</row>
					<col>64</col>
					<len>18</len>
				</field>
			</row>
			
			<row name="4" index="14">
				<field name="resvCode">
					<row>14</row>
					<col>4</col>
					<len>5</len>
				</field>
				<field name="pymtCode">
					<row>14</row>
					<col>27</col>
					<len>4</len>
				</field>
				<field name="amnt">
					<row>14</row>
					<col>45</col>
					<len>17</len>
				</field>
				<field name="balance">
					<row>14</row>
					<col>64</col>
					<len>18</len>
				</field>
			</row>
			
			<row name="5" index="15">
				<field name="resvCode">
					<row>15</row>
					<col>4</col>
					<len>5</len>
				</field>
				<field name="pymtCode">
					<row>15</row>
					<col>27</col>
					<len>4</len>
				</field>
				<field name="amnt">
					<row>15</row>
					<col>45</col>
					<len>17</len>
				</field>
				<field name="balance">
					<row>15</row>
					<col>64</col>
					<len>18</len>
				</field>
			</row>
			
			<row name="6" index="16">
				<field name="resvCode">
					<row>16</row>
					<col>4</col>
					<len>5</len>
				</field>
				<field name="pymtCode">
					<row>16</row>
					<col>27</col>
					<len>4</len>
				</field>
				<field name="amnt">
					<row>16</row>
					<col>45</col>
					<len>17</len>
				</field>
				<field name="balance">
					<row>16</row>
					<col>64</col>
					<len>18</len>
				</field>
			</row>
		</payee-filed-list>
	</fields>
	
	<processes>
		<switch validator="th.co.msat.motor.as400interface.process.validator.PaymentSystemValidator">
		
			<case name="Paid">
				<process id="1" type="setString">
					<field name="function">
						<param name="function" cache="true"/>
					</field>
				</process>
				<process id="2" type="setString">
					<field name="br">
						<param name="br" cache="true"/>
					</field>
				</process>
				<process id="3" type="setString">
					<field name="classes">
						<param name="classes" cache="true"/>
					</field>
				</process>
				<process id="4" type="setString">
					<field name="year">
						<param name="year" cache="true"/>
					</field>
				</process>
				<process id="5" type="setString">
					<field name="clmNo">
						<param name="clmNo" cache="true"/>
					</field>
				</process>
				<process id="6" type="sendEnter" checkerror="true"/>
				<process id="7" type="setString">
					<field name="confirm1">
						<param name="confirm1">Y</param>
					</field>
				</process>
				<process id="8" type="sendEnter" checkerror="true"/>
				<process id="9" type="setString">
					<field name="transType">
						<param name="transType" cache="true"/>
					</field>
				</process>
				<process id="10" type="class">
					<class-name>th.co.msat.motor.as400interface.process.ICL0310SScrap</class-name>
					<method-name>paid</method-name>
				</process>
				<process id="11" type="sendEnter" checkerror="true"/>
				<process id="12" type="class">
					<class-name>th.co.msat.motor.as400interface.process.ICL0310SScrap</class-name>
					<method-name>chkBalance</method-name>
				</process>
				<process id="13" type="setString">
					<field name="confirm2">
						<param name="confirm2">Y</param>
					</field>
				</process>
				<process id="14" type="sendEnter"/>
				<!--<process id="15" type="sendF3"/>
				<process id="16" type="sendF2"/>-->
				<process id="17" type="setTopProcessState">
					<param name="state">STATE_FINISH</param>
				</process>
			</case>
			
			<case name="Receive">
				<process id="1" type="class">
					<class-name>th.co.msat.motor.as400interface.process.ICL0310SScrap</class-name>
					<method-name>receive</method-name>
				</process>
			</case>
			
		</switch>
	</processes>
	
	<error-handler>
	
		<error code="Cursor in protected area of display.">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Cursor in protected area of display.</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
	
		<error code="Claim is already closed">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Claim is already closed</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
	
		<error code="Claim Number is not found">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Claim Number is not found</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
		<error code="Function Code is invalid. Enter 0:Add  1:Change  2:Delete">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Function Code is invalid. Enter 0:Add  1:Change  2:Delete</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
		<error code="Transaction type is invalid">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Transaction type is invalid</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
		<error code="Currency Code is invalid">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Currency Code is invalid</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
		<error code="Payee Code is invalid">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Payee Code is invalid</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
		<error code="Y:by Cheque  N:No Cheque  C:CR Payee A/C">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Cheque payment or credit A/C [Y:by Cheque  N:No Cheque  C:CR Payee A/C]</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
		<error code="Bank Code is invalid">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Bank Code is invalid</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
		<error code="O:Open/Pending    C:Closed">
			<process id="1" type="cache">
				<param name="ERROR_MESSAGE" type="java.lang.String">Claim settlement code  (O/C) [O:Open/Pending    C:Closed]</param>
			</process>
			<process id="2" type="setTopProcessState">
				<param name="state">STATE_ERROR</param>
			</process>
			<process id="3" type="stop"/>
		</error>
		
	</error-handler>
	
</page>
